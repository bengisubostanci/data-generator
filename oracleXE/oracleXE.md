## Oracle XE Installation and cx_Oracle Usage

This guide explains step-by-step how to install Oracle XE using Docker Compose, how to connect with cx_Oracle and explains how to import the dataset into oracle.

### Requirements

- Docker and Docker Compose must be installed.
- Python 3 must be installed.

### 1. Creating a Project Directory
First, create the project directory and prepare the necessary files.

```
mkdir oracle
cd oracle

```
### 2. Creating Docker Compose File
Create the docker-compose.yml file and add the following content:

```
version: '3.8'

services:
  oracle-xe:
    container_name: oracle-xe
    image: container-registry.oracle.com/database/express:21.3.0-xe
    environment:
      - ORACLE_PWD=YourPassword123
      - ORACLE_CHARACTERSET=AL32UTF8
    volumes:
      - oradata:/opt/oracle/oradata
    ports:
      - "1521:1521"
      - "5500:5500"

volumes:
  oradata:

```
 ### 3. Launch Oracle XE with Docker Compose
Start Oracle XE using Docker Compose:

```
docker-compose up -d

```

```
docker ps

```

### 4. Connect to a Docker Container
Use the following command to connect to the Oracle XE Docker container:

```
docker exec -it oracle-xe bash

```

### 5. Connect to an Oracle Database Using SQL*Plus

Connect to the Oracle database as administrator.

```
sqlplus sys/YourPassword123@localhost:1521/XE as sysdba

```

The user is created using Oracle commands.

```
CREATE USER user_name  IDENTIFIED BY user_password;

```

The rights required for the user are granted.
```
GRANT ALL PRIVILEGES TO user_name ;

```

Important Note: When creating a user in Oracle XE, the user name must begin with C## or c##. For example:

Exiting SQL*Plus
To exit SQL*Plus, use the EXIT or QUIT command

```
exit

```

Login with the user we created.
sqlplus c##user_name/user_password@localhost:1521/XE

### 6.Basic SQL*Plus Commands
Database Queries

Table Creation:

```
CREATE TABLE iris (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    SEPALLENGTHCM NUMBER,
    SEPALWIDTHCM NUMBER,
    PETALLENGTHCM NUMBER,
    PETALWIDTHCM NUMBER,
    SPECIES VARCHAR2(50)
);

```

```
DESC iris;

```

### 7. Connecting Using Python and cx_Oracle

7.1 Oracle Instant Client Installation

Oracle Instant Client is required for cx_Oracle to work. Install Oracle Instant Client by following these steps:

Download Oracle Instant Client from the official Oracle site: https://www.oracle.com/database/technologies/instant-client/downloads.html

Extract the downloaded file and move it to a directory such as ~/oracle/instantclient_19_23

Update the LD_LIBRARY_PATH environment variable:

```
export LD_LIBRARY_PATH=~/oracle/instantclient_19_8:$LD_LIBRARY_PATH

```

Install the libaio package with sudo or as the root user. 

```
sudo yum install libaio

```

7.2 cx_Oracle Installation
Install cx_Oracle with the Python package manager pip:

```
pip install cx_Oracle

```

### 8. Run dataframe_to_oracle script
```
cd data-generator/
source datagen/bin/activate
```

```
python3 dataframe_to_oracle.py -i "input/iris.csv" -hst "localhost" -p "1521" -u "bengisu" -psw "372615" -db "XE" -t "iris"

```













